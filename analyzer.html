<html>
<title>Thread Dump Analyzer</title>
<link href="analyzer.css" media="all" rel="stylesheet" type="text/css" />
<textarea id="dump" style="width:100%;height:10em">
</textarea><br />
<button id="parse-action">parse</button>
<input type="file" id="load-dump" value="load dump" />
<a href="#" id="scroll-top">^^^</a>
<pre id="parse-result">
</pre>

<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="analyzer.js"></script>
<script>
$(function(){
  $("#parse-action").click(function(){
    parse($("#dump").val().split(/\r\n|\r|\n/),$("#parse-result").html(""));
  });
  $("#load-dump").on("change",function(e){
    if(e.target.files && e.target.files[0]){
      var fileReader = new FileReader();
      fileReader.onload = function(e){ $("#dump").val(e.target.result); }
      fileReader.onerror = function(){ alert("can't read!"); }
      fileReader.readAsText(e.target.files[0]);
    }
  });
  $("#scroll-top").click(function(){
    $("#dump").scrollTop(0);
  });
});
</script>
</html>
